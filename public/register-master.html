<!DOCTYPE html>
<html>
<head><title>Register Master</title></head>
<body>
<h2>Register Master Wallet</h2>
<button id="btn" onclick="register()">Connect & Register</button>
<div id="status"></div>
<script src="https://unpkg.com/@tonconnect/ui@2.0.5/dist/tonconnect-ui.min.js"></script>
<script>
const CONTRACT = 'EQDjjT7CWLNL2_Kkd7aizOoFks5GJF696PjfSL_rz6ucAcrs';
const tc = new TON_CONNECT_UI.TonConnectUI({
  manifestUrl: 'https://xionton-app.vercel.app/tonconnect-manifest.json',
  buttonRootId: 'btn'
});
async function register() {
  if (!tc.connected) { await tc.openModal(); return; }
  const addr = tc.wallet.account.address;
  document.getElementById('status').innerText = 'Sending from ' + addr;
  try {
    await tc.sendTransaction({
      validUntil: Math.floor(Date.now()/1000) + 600,
      messages: [{
        address: CONTRACT,
        amount: '10800000000',
        payload: 'te6cckEBAQEAKAAASwAAAQCAAvaXRt6hAE3nxx4GClReUpT8Ang7JcNjSb6TG3Q+vhwQburTwg=='
      }]
    });
    document.getElementById('status').innerText = 'Sent! Check tonscan.';
  } catch(e) { document.getElementById('status').innerText = 'Error: ' + e.message; }
}
</script>
</body>
</html>
